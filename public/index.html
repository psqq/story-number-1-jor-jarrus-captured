<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Story number 1. Jor Jarrus captured</title>
  <!-- Подключаем стили -->
  <link rel="stylesheet" href="./style.css">
  <!-- Фреймворк для содздания пользовательских интерфейсов Vue 
    и библиотека для урпавления состоянием Vuex -->
  <script src="https://unpkg.com/vue"></script>
  <script src="https://unpkg.com/vuex"></script>
  <!-- Библиотека для разработки рогаликов Rot.js -->
  <script src="https://unpkg.com/rot-js"></script>
  <!-- Библиотека для работы с 2d векторами -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/victor/1.1.0/victor.min.js"
    integrity="sha256-QH04jkqJgJzblmzmCljNPAANQK9jgSJDKDow2piEYdQ=" crossorigin="anonymous"></script>
</head>

<body>
  <!-- Корневой элемент приложения -->
  <div id="root">
    <!-- Главное меню -->
    <template v-if="screen == 'mainmenu'">
      <div class="mainmenu">
        <div class="mainmenu-content">
          <h2>Главное меню</h2>
          <div class="btn" @click="startNewGame">Начать новую игру</div>
          <div>
            <p>
              Пираты орки напали на корабль с людьми и захватили их. Выжили не все, а тех кто выжил захватили в плен.
              Герой игры был одним из захваченных в плен. Его имя Джор Джаррус. Захваченных посадили в тюрьму и по
              одному отправляли в местные подземелья для расчистки их от гоблинов, живущих там и охраняющих множество
              ценных вещей.
              Сами орки только надежно охраняли выход из пещеры, чтобы у жертв был только один выход –
              продвигаться в глубь пещер.
            </p>
            <p>
              Цель: спасти экипаж корабля.
            </p>
          </div>
        </div>
      </div>
    </template>
    <!-- Игровой экран -->
    <template v-else-if="screen == 'game'">
      <div class="game">
        <div class="game-content">
          <player-short-info></player-short-info>
          <game-display></game-display>
          <enemy-short-info></enemy-short-info>
        </div>
        <button @click="openMainMenu">Главное меню</button>
      </div>
    </template>
    <!-- Экран проигрыша -->
    <template v-else-if="screen == 'lose'">
      <div class="lose">
        <div class="lose-content">
          <h2>Вы проиграли :(</h2>
        </div>
        <button @click="openMainMenu">Главное меню</button>
      </div>
    </template>
    <!-- На случай, если что-то пойдет совсем не так -->
    <template v-else>
      Странно, но вы недложны этого видеть! :(
    </template>
  </div>
  <!-- Шаблоны для компонентов -->
  <div style="display: none">
    <div id="game-display">
      <div class="game-display"></div>
    </div>
    <div id="player-short-info">
      <div class="player-short-info">
        Здоровье: {{ player.hp }} | Урон: {{ player.ad }}
      </div>
    </div>
    <div id="enemy-short-info">
      <div class="enemy-short-info">
        <template v-if="enemy">
          Информация о враге:
          <p>
            Здоровье: {{ enemy.hp }} | Урон: {{ enemy.ad }}
          </p>
        </template>
        <template v-else>
          Вы не кого не атаковали в последнее время.
        </template>
      </div>
    </div>
  </div>
  <!-- Запуск скриптов -->
  <script src="../src/index.js" type="module"></script>
</body>

</html>